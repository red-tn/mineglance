# MineGlance v1.3.5 Feature Implementation Plan

## Overview

This document outlines the implementation plan for five major features to be added in v1.3.5:
1. Price Alerts
2. Payout Prediction
3. Historical Performance Charts
4. Rig Management System
5. Website Feature Updates

**Version**: 1.3.5 (no version bump, update existing codebase)

---

## Feature 1: Price Alerts

### Description
Notify users when mined coin prices hit user-defined targets. Helps miners time their payouts for maximum value.

### Database Changes

**Modify `user_wallets` table:**
```sql
ALTER TABLE user_wallets ADD COLUMN price_alert_enabled BOOLEAN DEFAULT false;
ALTER TABLE user_wallets ADD COLUMN price_alert_target DECIMAL(18, 8);
ALTER TABLE user_wallets ADD COLUMN price_alert_condition TEXT DEFAULT 'above' CHECK (price_alert_condition IN ('above', 'below'));
ALTER TABLE user_wallets ADD COLUMN price_alert_last_triggered TIMESTAMP WITH TIME ZONE;
```

### API Changes

**Update `/api/wallets/sync/route.ts`:**
- Add new fields to SELECT queries
- Add new fields to INSERT/UPDATE operations

**Update `/api/send-alert/route.ts`:**
- Add new alert type: `price_alert`
- Email template for price alerts

**New endpoint `/api/cron/check-price-alerts/route.ts`:**
- Runs every 15 minutes via Vercel cron
- Fetches current prices from CoinGecko
- Compares against user targets
- Sends email alerts via existing SendGrid infrastructure
- Tracks `price_alert_last_triggered` to prevent spam (24hr cooldown)

### UI Changes

#### Extension (`extension/popup/popup.js`)
**Wallet Add/Edit Modal:**
- Add "Price Alert" toggle switch
- When enabled, show:
  - Target price input (USD)
  - Condition dropdown: "Above" | "Below"
- Save to chrome.storage.local with wallet

**Wallet Card:**
- Show small bell icon when price alert is enabled
- Tooltip: "Alert set: Above/Below $X.XX"

#### Desktop App (`desktop/src/`)
**WalletModal.tsx (new or existing):**
- Same UI as extension
- Fields: price_alert_enabled, price_alert_target, price_alert_condition

**WalletCard.tsx:**
- Show alert indicator badge
- Tooltip with alert details

#### Mobile App (`mobile/`)
**app/(tabs)/wallets.tsx:**
- Add price alert fields to wallet add/edit modal
- Toggle switch + target price input + condition picker

**Wallet list item:**
- Show small bell badge when enabled

#### User Dashboard (`app/dashboard/wallets/page.tsx`)
**Wallet table/card:**
- "Price Alert" column showing status
- Edit modal with price alert settings

### Data Flow

1. User sets price alert on wallet (target: $0.10, condition: above)
2. Wallet saved with alert settings to DB (Pro) or local storage (Free)
3. Cron job runs every 15 minutes
4. Fetches all wallets with `price_alert_enabled = true`
5. Gets current price from CoinGecko
6. If condition met AND not triggered in last 24h:
   - Send email via SendGrid
   - Log to email_alerts_log
   - Update `price_alert_last_triggered`

### Files to Modify

| Location | File | Changes |
|----------|------|---------|
| API | `app/api/wallets/sync/route.ts` | Add price alert fields |
| API | `app/api/send-alert/route.ts` | Add price_alert type |
| API | `app/api/cron/check-price-alerts/route.ts` | New file |
| Extension | `extension/popup/popup.js` | Wallet modal + card badge |
| Extension | `extension/background/background.js` | Store price alert fields |
| Desktop | `desktop/src/stores/walletStore.ts` | Add price alert to Wallet type |
| Desktop | `desktop/src/components/WalletCard.tsx` | Alert badge |
| Mobile | `mobile/stores/walletStore.ts` | Add price alert fields |
| Mobile | `mobile/app/(tabs)/wallets.tsx` | Add to modal + list item |
| Dashboard | `app/dashboard/wallets/page.tsx` | Add to table + edit modal |
| Config | `vercel.json` | Add cron for price alerts |

---

## Feature 2: Payout Prediction

### Description
Show estimated time until next pool payout based on current hashrate and pool threshold.

### Database Changes

**Modify `user_wallets` table:**
```sql
ALTER TABLE user_wallets ADD COLUMN payout_prediction_enabled BOOLEAN DEFAULT false;
```

### Pool Threshold Data

Create new constants file with pool minimum payouts:

```typescript
// lib/poolThresholds.ts
export const POOL_THRESHOLDS: Record<string, Record<string, number>> = {
  '2miners': {
    'etc': 0.1,
    'rvn': 10,
    'ergo': 0.5,
    'flux': 1,
    'kas': 10,
    'alph': 0.1,
    'nexa': 10000,
    // ... all coins
  },
  'nanopool': {
    'etc': 0.05,
    'rvn': 10,
    'ergo': 1,
    // ...
  },
  // ... all pools
}
```

### Calculation Logic

```typescript
function calculatePayoutEstimate(
  currentBalance: number,
  dailyEarnings: number,
  threshold: number
): { hours: number; formatted: string } {
  if (currentBalance >= threshold) {
    return { hours: 0, formatted: 'Ready for payout!' }
  }

  const remaining = threshold - currentBalance
  const hoursToEarn = (remaining / dailyEarnings) * 24

  if (hoursToEarn < 24) {
    return { hours: hoursToEarn, formatted: `~${Math.ceil(hoursToEarn)}h` }
  } else {
    const days = Math.ceil(hoursToEarn / 24)
    return { hours: hoursToEarn, formatted: `~${days}d` }
  }
}
```

### UI Changes

#### Extension (`extension/popup/popup.js`)
**Settings Modal per Wallet:**
- Checkbox: "Show payout estimate"
- Save to wallet object

**Wallet Card:**
- New row in stats: "Est. Payout: ~2d 14h"
- Progress bar showing balance vs threshold
- Gray out if pool threshold unknown

#### Desktop App
**WalletCard.tsx:**
- Add payout estimate section
- Progress bar: current balance / threshold
- Time estimate text

#### Mobile App
**Wallet card component:**
- Payout progress indicator
- Time estimate label

#### User Dashboard
**Wallets page:**
- Column or card section for payout estimate
- Toggle in wallet settings

### Files to Modify

| Location | File | Changes |
|----------|------|---------|
| Lib | `lib/poolThresholds.ts` | New file with threshold data |
| API | `app/api/wallets/sync/route.ts` | Add payout_prediction_enabled |
| Extension | `extension/popup/popup.js` | Payout display + settings |
| Desktop | `desktop/src/components/WalletCard.tsx` | Payout section |
| Desktop | `desktop/src/stores/walletStore.ts` | Add field to type |
| Mobile | `mobile/app/(tabs)/wallets.tsx` | Payout display |
| Mobile | `mobile/constants/poolThresholds.ts` | New file |
| Dashboard | `app/dashboard/wallets/page.tsx` | Payout column/display |

---

## Feature 3: Historical Performance Charts

### Description
Line graphs showing hashrate, profit, and worker count trends over 7/30/90 days.

### Database Changes

**New table `wallet_performance_history`:**
```sql
CREATE TABLE wallet_performance_history (
  id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
  wallet_id UUID NOT NULL REFERENCES user_wallets(id) ON DELETE CASCADE,
  user_id UUID NOT NULL REFERENCES users(id) ON DELETE CASCADE,
  hashrate FLOAT NOT NULL DEFAULT 0,
  hashrate_unit TEXT DEFAULT 'H/s',
  workers_online INTEGER NOT NULL DEFAULT 0,
  workers_total INTEGER NOT NULL DEFAULT 0,
  balance DECIMAL(18, 8) NOT NULL DEFAULT 0,
  daily_earnings DECIMAL(18, 8) NOT NULL DEFAULT 0,
  daily_profit_usd DECIMAL(10, 2) NOT NULL DEFAULT 0,
  coin_price_usd DECIMAL(18, 8),
  recorded_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW()
);

CREATE INDEX idx_wallet_performance_wallet_id ON wallet_performance_history(wallet_id);
CREATE INDEX idx_wallet_performance_recorded_at ON wallet_performance_history(recorded_at);
CREATE INDEX idx_wallet_performance_user_id ON wallet_performance_history(user_id);
```

**Modify `user_wallets` table:**
```sql
ALTER TABLE user_wallets ADD COLUMN chart_enabled BOOLEAN DEFAULT false;
ALTER TABLE user_wallets ADD COLUMN chart_period INTEGER DEFAULT 7 CHECK (chart_period IN (7, 30, 90));
```

### Dependencies

**Install charting library:**
```bash
# Website/Dashboard
npm install recharts

# Desktop app
cd desktop && npm install recharts

# Mobile app (React Native)
cd mobile && npm install react-native-svg victory-native
# OR use expo-specific:
npx expo install react-native-svg
npm install victory-native
```

### API Changes

**New endpoint `/api/cron/capture-performance/route.ts`:**
- Runs daily at 00:00 UTC via Vercel cron
- For each Pro user with chart_enabled wallets:
  - Fetch current pool stats via `/api/pool-stats`
  - Insert record into wallet_performance_history
  - Delete records older than 90 days

**New endpoint `/api/wallet-history/route.ts`:**
- GET: Fetch performance history for wallet
- Query params: wallet_id, period (7/30/90)
- Returns array of data points for chart

### UI Changes

#### Extension (`extension/popup/popup.js`)
**Wallet Settings:**
- Toggle: "Show performance chart"
- Dropdown: "Period: 7 days | 30 days | 90 days"

**Wallet Card (expanded view):**
- Small sparkline chart (100px height)
- Shows hashrate trend over selected period
- Click to expand full chart modal

**Chart Library for Extension:**
- Use vanilla Canvas API or lightweight chart.js
- Keep bundle size minimal

#### Desktop App
**Install Recharts:**
```bash
cd desktop && npm install recharts
```

**WalletCard.tsx:**
- Collapsible chart section at bottom
- LineChart showing:
  - Hashrate (primary)
  - Daily profit (secondary axis)
  - Worker count (dots/markers)

**New component `PerformanceChart.tsx`:**
```typescript
import { LineChart, Line, XAxis, YAxis, Tooltip, ResponsiveContainer } from 'recharts'

interface ChartData {
  date: string
  hashrate: number
  profit: number
  workers: number
}

export function PerformanceChart({ data, metric }: { data: ChartData[], metric: 'hashrate' | 'profit' | 'workers' }) {
  // Render appropriate chart
}
```

#### Mobile App
**Install Victory Native:**
```bash
cd mobile
npx expo install react-native-svg
npm install victory-native
```

**Wallet detail view:**
- Scrollable chart section
- Toggle between hashrate/profit/workers
- Period selector (7/30/90)

#### User Dashboard
**Wallets page:**
- Chart toggle in wallet settings modal
- Expanded wallet view shows full chart
- Multiple metrics selectable

### Data Retention

- Free users: Charts disabled (Pro feature)
- Pro users: Up to 90 days of history
- Cron job cleans up records > 90 days old
- Estimated storage: ~1KB per wallet per day = ~90KB per wallet max

### Files to Modify/Create

| Location | File | Changes |
|----------|------|---------|
| DB | `docs/v1.3.5_migration.sql` | New table + wallet columns |
| API | `app/api/cron/capture-performance/route.ts` | New cron job |
| API | `app/api/wallet-history/route.ts` | New endpoint |
| API | `app/api/wallets/sync/route.ts` | Add chart fields |
| Config | `vercel.json` | Add capture cron |
| Extension | `extension/popup/popup.js` | Chart settings + sparkline |
| Desktop | `desktop/package.json` | Add recharts |
| Desktop | `desktop/src/components/PerformanceChart.tsx` | New component |
| Desktop | `desktop/src/components/WalletCard.tsx` | Integrate chart |
| Mobile | `mobile/package.json` | Add victory-native |
| Mobile | `mobile/components/PerformanceChart.tsx` | New component |
| Mobile | `mobile/app/(tabs)/wallets.tsx` | Integrate chart |
| Dashboard | `app/dashboard/wallets/page.tsx` | Chart integration |
| Dashboard | `components/WalletChart.tsx` | New component |

---

## Feature 4: Rig Management System

### Description
Track individual GPUs/ASICs with custom names, temperatures, power consumption, and per-rig profitability.

### Database Changes

**Enhance `user_rigs` table:**
```sql
ALTER TABLE user_rigs ADD COLUMN wallet_id UUID REFERENCES user_wallets(id) ON DELETE SET NULL;
ALTER TABLE user_rigs ADD COLUMN device_type TEXT DEFAULT 'gpu' CHECK (device_type IN ('gpu', 'asic', 'cpu'));
ALTER TABLE user_rigs ADD COLUMN model TEXT;
ALTER TABLE user_rigs ADD COLUMN hashrate FLOAT DEFAULT 0;
ALTER TABLE user_rigs ADD COLUMN hashrate_unit TEXT DEFAULT 'MH/s';
ALTER TABLE user_rigs ADD COLUMN temperature INTEGER;
ALTER TABLE user_rigs ADD COLUMN power_target INTEGER;
ALTER TABLE user_rigs ADD COLUMN core_clock INTEGER;
ALTER TABLE user_rigs ADD COLUMN memory_clock INTEGER;
ALTER TABLE user_rigs ADD COLUMN fan_speed INTEGER;
ALTER TABLE user_rigs ADD COLUMN efficiency DECIMAL(10, 4);
ALTER TABLE user_rigs ADD COLUMN daily_profit_usd DECIMAL(10, 2);
ALTER TABLE user_rigs ADD COLUMN is_online BOOLEAN DEFAULT true;
ALTER TABLE user_rigs ADD COLUMN notes TEXT;
```

**Create index:**
```sql
CREATE INDEX idx_user_rigs_wallet_id ON user_rigs(wallet_id);
```

### API Changes

**Update `/api/rigs/sync/route.ts`:**
- Add new fields to CRUD operations
- Add wallet association support
- Calculate per-rig profitability

**New endpoint `/api/rigs/calculate-profit/route.ts`:**
- POST: Calculate profit for a rig
- Input: hashrate, power, coin, electricity_rate
- Output: daily_revenue, daily_cost, daily_profit

### UI Changes

#### Extension
**New "Rigs" tab or section:**
- List of rigs with status indicators
- Quick stats: online count, total hashrate, total power
- Click rig to edit

**Rig Add/Edit Modal:**
- Name (required)
- Device type: GPU | ASIC | CPU
- Model (optional, e.g., "RTX 4090")
- Hashrate + unit
- Power consumption (W)
- Associated wallet (dropdown)
- Notes (optional)

#### Desktop App
**New Rigs page (`desktop/src/pages/Rigs.tsx`):**
- Grid or list of rig cards
- Each card shows:
  - Name + model
  - Hashrate
  - Power consumption
  - Calculated daily profit
  - Online/offline status
  - Temperature (if set)

**Rig card component:**
- Green/red status dot
- Key metrics
- Edit/delete actions

#### Mobile App
**New Rigs tab or section:**
- List of rigs
- Swipe actions for edit/delete
- Add rig FAB

#### User Dashboard
**New Rigs page (`app/dashboard/rigs/page.tsx`):**
- Table view of all rigs
- Columns: Name, Model, Type, Hashrate, Power, Wallet, Profit, Status
- Add/edit/delete modals
- Bulk actions (delete selected)

### Profit Calculation

```typescript
function calculateRigProfit(
  hashrate: number,
  hashrateUnit: string,
  coin: string,
  powerWatts: number,
  electricityRate: number // $/kWh
): { revenue: number; cost: number; profit: number } {
  // Get coin profitability from WhatToMine data or local constants
  const profitPerUnit = getCoinProfitability(coin, hashrateUnit)
  const revenue = hashrate * profitPerUnit

  const dailyKwh = (powerWatts * 24) / 1000
  const cost = dailyKwh * electricityRate

  return {
    revenue,
    cost,
    profit: revenue - cost
  }
}
```

### Files to Modify/Create

| Location | File | Changes |
|----------|------|---------|
| DB | `docs/v1.3.5_migration.sql` | Enhance user_rigs table |
| API | `app/api/rigs/sync/route.ts` | Add new fields |
| API | `app/api/rigs/calculate-profit/route.ts` | New endpoint |
| Extension | `extension/popup/popup.js` | Rigs section |
| Desktop | `desktop/src/pages/Rigs.tsx` | New page |
| Desktop | `desktop/src/components/RigCard.tsx` | New component |
| Desktop | `desktop/src/stores/rigStore.ts` | New store |
| Mobile | `mobile/app/(tabs)/rigs.tsx` | New tab |
| Mobile | `mobile/stores/rigStore.ts` | New store |
| Dashboard | `app/dashboard/rigs/page.tsx` | New page |
| Nav | Update navigation in all platforms | Add rigs link |

---

## Feature 5: Website Feature Updates

### Description
Update homepage, support page, download page with new feature information.

### Files to Update

#### Homepage Features (`components/Features.tsx`)

**Add new feature cards:**
```typescript
{
  title: 'Price Alerts',
  description: 'Set price targets for your coins. Get notified when it\'s the perfect time to cash out.',
  icon: /* bell/dollar icon */
},
{
  title: 'Payout Prediction',
  description: 'Know exactly when your next pool payout is coming. Never miss a threshold again.',
  icon: /* clock/calendar icon */
},
{
  title: 'Performance Charts',
  description: 'Visualize your mining trends over 7, 30, or 90 days. Track hashrate, profit, and uptime.',
  icon: /* chart icon */
},
{
  title: 'Rig Management',
  description: 'Track each GPU and ASIC individually. Monitor power, temps, and per-device profitability.',
  icon: /* gpu/server icon */
}
```

#### Pricing Features (`components/Pricing.tsx`)

**Update `proFeatures` array:**
```typescript
const proFeatures = [
  'Unlimited wallets',
  'All 12+ pools supported',
  'All coins supported',
  'Cloud sync across devices',
  'Desktop + Email alerts',
  'Price alerts for coins',        // NEW
  'Payout predictions',            // NEW
  'Performance charts (7/30/90d)', // NEW
  'Advanced rig management',       // NEW
  'Real-time coin comparison',
  'User dashboard',
  'Priority support'
]
```

#### Upgrade Modal (`components/UpgradeModal.tsx`)

**Update features list:**
```typescript
<span className="text-white text-sm">Price alerts & payout predictions</span>
<span className="text-white text-sm">Historical performance charts</span>
<span className="text-white text-sm">Advanced rig management</span>
```

#### Download Page (`app/download/page.tsx`)

**Update features list (line 315-327):**
```typescript
{[
  'Real-time hashrate & worker status',
  'Profit calculation with electricity costs',
  '14+ supported mining pools',           // Updated from 12+
  '25+ supported cryptocurrencies',        // Updated
  'Dark & light theme',
  'Cloud sync across devices (Pro)',
  'Price alerts with email notifications', // NEW
  'Payout time predictions',               // NEW
  'Performance charts (7/30/90 days)',     // NEW
  'GPU/ASIC rig management',               // NEW
  'Two-factor authentication',
  'Worker offline alerts',
  'Profit drop notifications',
  'Background auto-updates (Desktop)',
  'System tray integration (Desktop)',
  'Multi-wallet support (Pro)',
].map((feature, i) => (
```

#### Support Page (`app/support/page.tsx`)

**Update Features Overview section:**

Add new subsection for v1.3.5 features:
```jsx
<div className="glass-card rounded-xl p-6 border border-primary/30">
  <h3 className="font-semibold text-dark-text mb-4 flex items-center gap-2">
    New in v1.3.5
    <span className="px-2 py-0.5 bg-primary text-white text-xs rounded-full">NEW</span>
  </h3>
  <ul className="space-y-3 text-dark-text-muted">
    <li className="flex items-start gap-3">
      <span className="text-primary">&#10003;</span>
      <div><strong className="text-dark-text">Price Alerts</strong> &mdash; Get notified when coin prices hit your target</div>
    </li>
    <li className="flex items-start gap-3">
      <span className="text-primary">&#10003;</span>
      <div><strong className="text-dark-text">Payout Prediction</strong> &mdash; See estimated time until next pool payout</div>
    </li>
    <li className="flex items-start gap-3">
      <span className="text-primary">&#10003;</span>
      <div><strong className="text-dark-text">Performance Charts</strong> &mdash; Historical graphs for hashrate, profit, workers</div>
    </li>
    <li className="flex items-start gap-3">
      <span className="text-primary">&#10003;</span>
      <div><strong className="text-dark-text">Rig Management</strong> &mdash; Track GPUs/ASICs with temps, power, profitability</div>
    </li>
  </ul>
</div>
```

**Update supported pools count:**
- Change "10+ pools" to "14+ pools"

**Update supported coins:**
- Verify and update the coin list

#### FAQ Component (`components/FAQ.tsx`)

**Add new FAQ items:**
```typescript
{
  question: 'How do price alerts work?',
  answer: 'Set a target price and condition (above/below) for any coin. When the price crosses your target, you\'ll receive an email notification. Great for timing your payouts!'
},
{
  question: 'How is payout prediction calculated?',
  answer: 'We use your current balance and 24-hour earning rate to estimate when you\'ll reach the pool\'s minimum payout threshold. The estimate updates with each refresh.'
},
{
  question: 'How long is chart history stored?',
  answer: 'Pro users get up to 90 days of historical data. Choose to view 7, 30, or 90 day trends for hashrate, profit, and worker count.'
}
```

### Files to Modify

| File | Changes |
|------|---------|
| `components/Features.tsx` | Add 4 new feature cards |
| `components/Pricing.tsx` | Update proFeatures list |
| `components/UpgradeModal.tsx` | Update features bullets |
| `components/FAQ.tsx` | Add new FAQ items |
| `app/download/page.tsx` | Update features list |
| `app/support/page.tsx` | Add v1.3.5 section, update counts |
| `app/page.tsx` | Verify features section renders correctly |

---

## Vercel Cron Configuration

**Update `vercel.json`:**
```json
{
  "framework": "nextjs",
  "buildCommand": "npm run build",
  "outputDirectory": ".next",
  "crons": [
    {
      "path": "/api/cron/purge-instances",
      "schedule": "0 6 * * *"
    },
    {
      "path": "/api/cron/renewal-reminders",
      "schedule": "0 14 * * *"
    },
    {
      "path": "/api/cron/check-price-alerts",
      "schedule": "*/15 * * * *"
    },
    {
      "path": "/api/cron/capture-performance",
      "schedule": "0 0 * * *"
    }
  ]
}
```

**Note:** `*/15 * * * *` (every 15 minutes) requires Vercel Pro plan. For Hobby plan, use `0 * * * *` (hourly).

---

## Implementation Order

### Phase 1: Database & API Foundation
1. Run SQL migrations
2. Update `/api/wallets/sync` with new fields
3. Update `/api/rigs/sync` with enhanced fields
4. Create `/api/wallet-history` endpoint
5. Create `/api/cron/check-price-alerts`
6. Create `/api/cron/capture-performance`

### Phase 2: Extension Updates
1. Add price alert fields to wallet storage
2. Update wallet add/edit modal UI
3. Add payout prediction calculation
4. Add chart settings (toggle + period)
5. Add sparkline chart component
6. Add rigs section

### Phase 3: Desktop App Updates
1. Install recharts
2. Update wallet types and store
3. Add PerformanceChart component
4. Update WalletCard with new features
5. Create Rigs page and components

### Phase 4: Mobile App Updates
1. Install victory-native
2. Update wallet types and store
3. Add chart component
4. Update wallet screens
5. Create rigs tab

### Phase 5: Dashboard Updates
1. Update wallet management page
2. Add chart integration
3. Create rigs management page
4. Update navigation

### Phase 6: Website Updates
1. Update Features.tsx
2. Update Pricing.tsx
3. Update UpgradeModal.tsx
4. Update download page
5. Update support page
6. Update FAQ

### Phase 7: Testing & Polish
1. Test all platforms
2. Verify cron jobs work
3. Test email alerts
4. Performance testing for charts
5. Mobile responsiveness

---

## Estimated Complexity

| Feature | Complexity | Effort |
|---------|------------|--------|
| Price Alerts | Medium | 2-3 days |
| Payout Prediction | Low | 1 day |
| Performance Charts | High | 4-5 days |
| Rig Management | Medium | 3-4 days |
| Website Updates | Low | 1 day |

**Total estimated effort:** 11-14 days

---

## Dependencies

### NPM Packages to Install

**Website (`package.json`):**
```bash
npm install recharts
```

**Desktop (`desktop/package.json`):**
```bash
cd desktop && npm install recharts
```

**Mobile (`mobile/package.json`):**
```bash
cd mobile
npx expo install react-native-svg
npm install victory-native
```

---

## Risk Assessment

| Risk | Impact | Mitigation |
|------|--------|------------|
| Cron frequency limits on Hobby plan | Medium | Use hourly checks instead of 15-min |
| Chart data storage growth | Low | 90-day limit + cleanup cron |
| Pool threshold data accuracy | Medium | Allow manual override, update periodically |
| Mobile chart performance | Medium | Limit data points, use virtualization |
| Extension bundle size | Low | Use lightweight chart solution |

---

## Success Metrics

- Price alerts: Users setting at least 1 alert per wallet
- Payout prediction: Displayed on >50% of active wallets
- Charts: Pro users enabling on >30% of wallets
- Rigs: Users with >3 wallets using rig management
- Website: Reduced bounce rate on pricing page
